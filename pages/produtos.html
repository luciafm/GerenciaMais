<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerencia+ — Produtos</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="../styles/produtos.css">
</head>

<body>

<div class="layout">

  <!-- ===========================================================
       SIDEBAR (A MESMA DO DASHBOARD)
  =========================================================== -->
  <aside class="sidebar">
      <h2 class="logo">GERENCIA+</h2>

      <nav>
        <a href="dashboard.html"><i class="bi bi-speedometer2 nav-icon"></i>Dashboard</a>
        <a href="produtos.html" class="active"><i class="bi bi-box-seam nav-icon"></i>Produtos</a>
        <a href="#"><i class="bi bi-bar-chart nav-icon"></i>Relatórios</a>
        <a href="#"><i class="bi bi-people nav-icon"></i>Funcionários</a>
        <a href="#"><i class="bi bi-headset nav-icon"></i>Fornecedores</a>
        <a href="#"><i class="bi bi-gear nav-icon"></i>Configurações</a>
      </nav>
  </aside>


  <!-- ===========================================================
       ÁREA PRINCIPAL (HEADER + CONTEÚDO)
  =========================================================== -->
  <main class="main">

      <!-- HEADER -->
      <header class="header">
        <h3>Gerenciador de Estoques</h3>

        <div class="header-right">
          <div class="search-box">
            <i class="bi bi-search"></i>
            <input type="text" placeholder="Pesquisar...">
          </div>

          <img src="https://i.pravatar.cc/40" class="user" alt="">
        </div>
      </header>


      <!-- ===========================================================
           CONTEÚDO DA PÁGINA DE PRODUTOS
      =========================================================== -->
      
    <section class="content produtos-page">

            <div class="produtos-header">
                <h2>Produtos</h2>

                <button class="btn-add-produto" onclick="abrirModal()">
                    <i class="bi bi-plus-lg"></i>
                    Novo produto
                </button>

            </div>

            <div class="produtos-grid">

                <!-- 1 -->
                <div class="produto-card"
                    data-nome="Arroz Branco 5kg"
                    data-desc="Arroz tipo 1 • Embalagem econômica"
                    data-qtd="42"
                    data-cat="Mercearia"
                    data-preco="24.90"
                    data-img="https://fortatacadista.vteximg.com.br/arquivos/ids/290684-800-800/332852-urbano-branco-5kg.png?v=637490803953600000">

                    <img src="https://fortatacadista.vteximg.com.br/arquivos/ids/290684-800-800/332852-urbano-branco-5kg.png?v=637490803953600000" alt="">
                    <h3>Arroz Branco 5kg</h3>
                    <p>Arroz tipo 1 • Embalagem econômica</p>
                    <span class="qtd qtd-alta">Estoque: 42</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 2 -->
                <div class="produto-card"
                    data-nome="Feijão Carioca 1kg"
                    data-desc="Grãos selecionados • Tipo 1"
                    data-qtd="31"
                    data-cat="Mercearia"
                    data-preco="8.99"
                    data-img="https://redemix.vteximg.com.br/arquivos/ids/209460-1000-1000/7897136400155.jpg?v=638350604534800000">

                    <img src="https://redemix.vteximg.com.br/arquivos/ids/209460-1000-1000/7897136400155.jpg?v=638350604534800000" alt="">
                    <h3>Feijão Carioca 1kg</h3>
                    <p>Grãos selecionados • Tipo 1</p>
                    <span class="qtd qtd-medio">Estoque: 31</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 3 -->
                <div class="produto-card"
                    data-nome="Óleo de Soja 900ml"
                    data-desc="Óleo vegetal refinado"
                    data-qtd="58"
                    data-cat="Mercearia"
                    data-preco="6.79"
                    data-img="https://carrefourbrfood.vtexassets.com/arquivos/ids/211616/141836_1.jpg?v=637272514200130000">

                    <img src="https://carrefourbrfood.vtexassets.com/arquivos/ids/211616/141836_1.jpg?v=637272514200130000" alt="">
                    <h3>Óleo de Soja 900ml</h3>
                    <p>Óleo vegetal refinado</p>
                    <span class="qtd qtd-alta">Estoque: 58</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 4 -->
                <div class="produto-card"
                    data-nome="Açúcar Cristal 1kg"
                    data-desc="Açúcar cristal de alta pureza"
                    data-qtd="25"
                    data-cat="Mercearia"
                    data-preco="4.59"
                    data-img="https://d3gdr9n5lqb5z7.cloudfront.net/fotos/907950.jpg">

                    <img src="https://d3gdr9n5lqb5z7.cloudfront.net/fotos/907950.jpg" alt="">
                    <h3>Açúcar Cristal 1kg</h3>
                    <p>Açúcar cristal de alta pureza</p>
                    <span class="qtd qtd-medio">Estoque: 25</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 5 -->
                <div class="produto-card"
                    data-nome="Café 500g"
                    data-desc="Sabor intenso • Torrado e moído"
                    data-qtd="18"
                    data-cat="Mercearia"
                    data-preco="11.90"
                    data-img="https://carrefourbrfood.vtexassets.com/arquivos/ids/201945/9685855_2.jpg?v=637272449661630000">

                    <img src="https://carrefourbrfood.vtexassets.com/arquivos/ids/201945/9685855_2.jpg?v=637272449661630000" alt="">
                    <h3>Café 500g</h3>
                    <p>Sabor intenso • Torrado e moído</p>
                    <span class="qtd qtd-medio">Estoque: 18</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 6 -->
                <div class="produto-card"
                    data-nome="Leite Integral 1L"
                    data-desc="Leite UHT integral"
                    data-qtd="67"
                    data-cat="Laticínios"
                    data-preco="3.79"
                    data-img="https://d3gdr9n5lqb5z7.cloudfront.net/fotos/1919.jpg">

                    <img src="https://d3gdr9n5lqb5z7.cloudfront.net/fotos/1919.jpg" alt="">
                    <h3>Leite Integral 1L</h3>
                    <p>Leite UHT integral</p>
                    <span class="qtd qtd-alta">Estoque: 67</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 7 -->
                <div class="produto-card"
                    data-nome="Sabão em Pó 1kg"
                    data-desc="Remove manchas profundas"
                    data-qtd="14"
                    data-cat="Limpeza"
                    data-preco="9.50"
                    data-img="https://images.tcdn.com.br/img/img_prod/767437/sabao_em_po_omo_pacote_1kg_1017_1_20200408102937.jpg">

                    <img src="https://images.tcdn.com.br/img/img_prod/767437/sabao_em_po_omo_pacote_1kg_1017_1_20200408102937.jpg" alt="">
                    <h3>Sabão em Pó 1kg</h3>
                    <p>Remove manchas profundas</p>
                    <span class="qtd qtd-medio">Estoque: 14</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 8 -->
                <div class="produto-card"
                    data-nome="Detergente 500ml"
                    data-desc="Detergente neutro"
                    data-qtd="39"
                    data-cat="Limpeza"
                    data-preco="2.89"
                    data-img="https://castronaves.vteximg.com.br/arquivos/ids/371251-1000-1000/84574_01.jpg?v=637655863428400000">

                    <img src="https://castronaves.vteximg.com.br/arquivos/ids/371251-1000-1000/84574_01.jpg?v=637655863428400000" alt="">
                    <h3>Detergente 500ml</h3>
                    <p>Detergente neutro</p>
                    <span class="qtd qtd-alta">Estoque: 39</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 9 -->
                <div class="produto-card"
                    data-nome="Shampoo Anticaspa 400ml"
                    data-desc="Uso diário • Ação refrescante"
                    data-qtd="22"
                    data-cat="Higiene"
                    data-preco="17.90"
                    data-img="https://www.drogaraia.com.br/_next/image?url=https%3A%2F%2Fproduct-data.raiadrogasil.io%2Fimages%2F17099146.webp&w=3840&q=40">

                    <img src="https://www.drogaraia.com.br/_next/image?url=https%3A%2F%2Fproduct-data.raiadrogasil.io%2Fimages%2F17099146.webp&w=3840&q=40" alt="">
                    <h3>Shampoo Anticaspa 400ml</h3>
                    <p>Uso diário • Ação refrescante</p>
                    <span class="qtd qtd-medio">Estoque: 22</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 10 -->
                <div class="produto-card"
                    data-nome="Fraldas G"
                    data-desc="Alta absorção • Pacote G"
                    data-qtd="16"
                    data-cat="Infantil"
                    data-preco="49.90"
                    data-img="https://drogariaspacheco.vteximg.com.br/arquivos/ids/1476510-1000-1000/717509---Fralda-Huggies-Tripla-Protecao-G-36-Unidades-1.jpg?v=638926864896830000">

                    <img src="https://drogariaspacheco.vteximg.com.br/arquivos/ids/1476510-1000-1000/717509---Fralda-Huggies-Tripla-Protecao-G-36-Unidades-1.jpg?v=638926864896830000" alt="">
                    <h3>Fraldas G</h3>
                    <p>Alta absorção • Pacote G</p>
                    <span class="qtd qtd-baixa">Estoque: 16</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 11 -->
                <div class="produto-card"
                    data-nome="Refrigerante Cola 2L"
                    data-desc="Bebida gaseificada"
                    data-qtd="40"
                    data-cat="Bebidas"
                    data-preco="8.49"
                    data-img="https://andinacocacola.vtexassets.com/arquivos/ids/157657/110301_COCA---CCO1.5L.jpg?v=638404085825130000">

                    <img src="https://andinacocacola.vtexassets.com/arquivos/ids/157657/110301_COCA---CCO1.5L.jpg?v=638404085825130000" alt="">
                    <h3>Refrigerante Cola 2L</h3>
                    <p>Bebida gaseificada</p>
                    <span class="qtd qtd-alta">Estoque: 40</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

                <!-- 12 -->
                <div class="produto-card"
                    data-nome="Biscoito Cream Cracker"
                    data-desc="Biscoito salgado tradicional"
                    data-qtd="28"
                    data-cat="Mercearia"
                    data-preco="5.29"
                    data-img="https://ibassets.com.br/ib.item.image.large/l-0dc5b9a8f98a48f8bb075014076b37f2.jpg">

                    <img src="https://ibassets.com.br/ib.item.image.large/l-0dc5b9a8f98a48f8bb075014076b37f2.jpg" alt="">
                    <h3>Biscoito Cream Cracker</h3>
                    <p>Biscoito salgado tradicional</p>
                    <span class="qtd qtd-medio">Estoque: 28</span>

                    <button class="btn-editar" onclick="abrirEdicao(this)">
                        <i class="bi bi-pencil-square"></i> Editar
                    </button>

                    <button class="btn-excluir" onclick="confirmarExclusao(this)">
                        <i class="bi bi-trash"></i> Excluir
                    </button>
                </div>

            </div>

            </div>

    </section>


      <!-- FOOTER -->
    <footer class="footer">
        Gerencia+ -Sistema de Gestão de Estoques &copy; 2025
    </footer>

  </main>
</div>

<!-- ================== MODAL CADASTRAR PRODUTO ================== -->
<div class="modal-overlay" id="modalAddProduto">
    <div class="modal">

        <div class="modal-header">
            <h3>Cadastrar Produto</h3>
            <button class="close-modal" onclick="fecharModal()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>

        <form class="modal-form">

            <label>Nome do produto</label>
            <input type="text" placeholder="Ex: Arroz Branco 5kg">

            <label>Descrição</label>
            <textarea placeholder="Descrição curta..."></textarea>

            <label>Quantidade em estoque</label>
            <input type="number" placeholder="Ex: 12">

            <label>Imagem (URL)</label>
            <input type="text" placeholder="Cole o link da imagem...">

            <button type="submit" class="btn-save">
                <i class="bi bi-check-lg"></i>
                Salvar produto
            </button>
        </form>

    </div> 
</div>

<!-- ================== MODAL EDITAR PRODUTO ================== -->
<div class="modal-overlay" id="modalEditarProduto">
    <div class="modal">

        <div class="modal-header">
            <h3>Editar Produto</h3>
            <button class="close-modal" onclick="fecharModalEditar()">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>

        <form class="modal-form">

            <label>Nome do produto</label>
            <input type="text" id="ed-nome">

            <label>Descrição</label>
            <textarea id="ed-desc"></textarea>

            <label>Quantidade</label>
            <input type="number" id="ed-qtd">

            <label>Categoria</label>
            <input type="text" id="ed-cat">

            <label>Preço (R$)</label>
            <input type="number" step="0.01" id="ed-preco">

            <button type="button" class="btn-save" onclick="salvarEdicao()">
                <i class="bi bi-check-lg"></i>
                Salvar alterações
            </button>
        </form>

    </div>
</div>

<!-- ================== MODAL CONFIRMAR EXCLUSÃO DE PRODUTO ================== -->
<div class="modal-overlay" id="modal-excluir">
    <div class="modal">

        <div class="modal-header">
            <h3>Confirmar exclusão</h3>
            <button class="close-modal" onclick="cancelarExclusao()">
                <i class="bi bi-x-lg"></i>    
            </button>
        </div>


        <p>Tem certeza que deseja excluir este produto?</p>

        <div class="modal-botoes">
            <button onclick="cancelarExclusao()">Cancelar</button>
            <button onclick="confirmarExclusaoFinal()">Excluir</button>
        </div>
    </div>
</div>


    <script>
let cardEmEdicao = null;
let produtoParaExcluir = null;

// FUNÇÕES CADASTRAR PRODUTO
function abrirModal() {
    document.getElementById("modalAddProduto").style.display = "flex";
}

function fecharModal() {
    document.getElementById("modalAddProduto").style.display = "none";
}

// ABRIR MODAL DE EDIÇÃO
function abrirEdicao(botao) {
    const card = botao.closest(".produto-card");
    cardEmEdicao = card;

    // pega dados do produto
    document.getElementById("ed-nome").value = card.dataset.nome;
    document.getElementById("ed-desc").value = card.dataset.desc;
    document.getElementById("ed-qtd").value = card.dataset.qtd;
    document.getElementById("ed-cat").value = card.dataset.cat;
    document.getElementById("ed-preco").value = card.dataset.preco;

    document.getElementById("modalEditarProduto").style.display = "flex";
}

// FECHAR MODAL
function fecharModalEditar() {
    document.getElementById("modalEditarProduto").style.display = "none";
}

// SALVAR EDIÇÃO
function salvarEdicao() {

    if (!cardEmEdicao) return;

    // pegar novos valores
    const nome = document.getElementById("ed-nome").value;
    const desc = document.getElementById("ed-desc").value;
    const qtd  = document.getElementById("ed-qtd").value;

    // atualizar card no HTML
    cardEmEdicao.querySelector("h3").textContent = nome;
    cardEmEdicao.querySelector("p").textContent  = desc;
    cardEmEdicao.querySelector(".qtd").textContent = "Estoque: " + qtd;

    // atualizar atributos data-*
    cardEmEdicao.dataset.nome = nome;
    cardEmEdicao.dataset.desc = desc;
    cardEmEdicao.dataset.qtd = qtd;

    fecharModalEditar();
}


/* ============== EXCLUIR PRODUTO ==================*/
function confirmarExclusao(botao) {
    produtoParaExcluir = botao.closest(".produto-card");
    document.getElementById("modal-excluir").style.display = "flex";
}

function cancelarExclusao() {
    document.getElementById("modal-excluir").style.display = "none";
    produtoParaExcluir = null;
}

function confirmarExclusaoFinal() {
    if (produtoParaExcluir) {
        produtoParaExcluir.remove();
    };

    document.getElementById("modal-excluir").style.display = "none";
    produtoParaExcluir = null;
}

    </script>

</body>
</html>
